@inherits LayoutComponentBase
@using Blazored.LocalStorage
@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]
@inject ClientApp.Services.ToastService ToastService
@inject ILocalStorageService LocalStorageService
@inject NavigationManager NavigationManager
@using ClientApp.Services.IService


<Toasts class="p-3"
        Messages="ToastService.Messages"
        AutoHide="true"
        Delay="3000"
        Placement="ToastsPlacement.TopRight"
        CreateToastMessageCallback="CreateToastMessage" />

<div class="container-center-horizontal">
    @* <div class=@ClasePage> *@
    <div class="pantalla-inicio screen">
        <div class="menu-adminitrador-can">
            <div class="menu">
                <div class="menu-1 menu-4">
                    <div class="user_button">
                        <img class="avatar" src="admin/img/avatar.svg" alt="avatar">
                        <div class="frame-78">
                            <div class="frame-10000023">
                                <div class="alberto-mendez headingheadline5-h5">@nombre @apellidos</div>
                                <div class="frame-10000023">
                                    <div class="frame-1000002371">
                                        <div class="albertonovacerocom bodybody-small">@nombreRol</div>
                                    </div>
                                </div>
                            </div>
                            <img class="expand_more" src="admin/img/expand-more@2x.png" alt="expand_more">
                        </div>
                    </div>
                    <div class="men">
                        <div class="men-1">
                            <div class="inicio-1">
                                <div class="inicio-2">
                                    <img class="material-symbols-lig" src="admin/img/material-symbols-light-home-outline-rounded.svg" alt="material-symbols-light:home-outline-rounded">
                                    <div class="inicio-3 valign-text-middle headingheadline5-h5">Inicio</div>
                                </div>
                                <div class="perfiles">
                                    <div class="titulo"><div class="inicio valign-text-middle bodysmall-600">Perfiles</div></div>
                                    @if (navItems?.Any() == true)
                                    {
                                        @foreach (var item in navItems)
                                        {
                                            switch (item.Href)
                                            {
                                                case "/onas":
                                                    <div class="ona">
                                                        <img class="bibuilding" src="admin/img/bi-building.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>

                                                    break;
                                                case "/usuarios":
                                                    <div class="usuarios">
                                                        <img class="bibuilding" src="admin/img/solar-user-linear.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/reporte1":
                                                    <div class="estadisticas">
                                                        <img class="bibuilding" src="admin/img/frame-1000004265.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;

                                            }
                                        }
                                    }
                                    else
                                    {
                                        <p>Cargando menú...</p>
                                    }
                                </div>
                            </div>
                            <div class="homologacin">
                                <div class="titulo"><div class="inicio valign-text-middle bodysmall-600">Homologación</div></div>
                                <div class="menu-2 menu-4">
                                    @if (navItems?.Any() == true)
                                    {
                                        @foreach (var item in navItems)
                                        {
                                            switch (item.Href)
                                            {
                                                case "/conexion":
                                                    <div class="conexion">
                                                        <img class="bibuilding" src="admin/img/ep-connection.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/grupos":
                                                    <div class="grupos">
                                                        <img class="bibuilding" src="admin/img/frame-1000004265.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/campos-homologacion":
                                                    <div class="campos">
                                                        <img class="bibuilding" src="admin/img/bi-card-checklist.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/esquemas":
                                                    <div class="esquemas">
                                                        <img class="bibuilding" src="admin/img/material-symbols-light-ballot-outline.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/validacion":
                                                    <div class="campos">
                                                        <img class="bibuilding" src="admin/img/material-symbols-light-ballot-outline.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/migracion-excel":
                                                    <div class="excel">
                                                        <img class="bibuilding" src="admin/img/bi-file-earmark-excel.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/reportecan":
                                                    <div class="estadisticas">
                                                        <img class="bibuilding" src="admin/img/frame-1000004265.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/reporteona":
                                                    <div class="estadisticas">
                                                        <img class="bibuilding" src="admin/img/frame-1000004265.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                                case "/reporteread":
                                                    <div class="estadisticas">
                                                        <img class="bibuilding" src="admin/img/frame-1000004265.svg">
                                                        <NavLink href="@item.Href" class="place valign-text-middle headingheadline5-h5">@item.Text</NavLink>
                                                    </div>
                                                    break;
                                            }

                                        }
                                    }
                                    else
                                    {
                                        <p>Cargando menú...</p>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ayuda">
                    <div class="menu-3 menu-4">
                        <img class="help" src="admin/img/help.svg" alt="help">
                        <div class="ayuda-1 valign-text-middle headingheadline5-h5">Ayuda</div>
                    </div>
                </div>
            </div>
        </div>

        @inject NavigationManager NavigationManager

        @if (NavigationManager.Uri.Contains("/administracion"))
        {
            @* ClasePage = "pantalla-inicio screen"; *@
            <div class="banner">
                <div class="top">
                    <img class="logo" src="admin/img/logo.svg" alt="logo">
                    <img class="vector-1" src="admin/img/vector-1.png" alt="vector 1">
                </div>
            </div>

        }
        else
        {
           
            <div class="general flex-col">
                <div class="general top">
                    <div class="general overlap-group">
                        <img class="general vector-1" src="admin/img/vector-1-1.png" alt="vector 1">
                        <img class="general frame" src="admin/img/frame-1.svg" alt="Frame">
                    </div>
                </div>
                @if (NavigationManager.Uri.Contains("/reportecan") ||
                   NavigationManager.Uri.Contains("/reporteona") ||
                   NavigationManager.Uri.Contains("/reporteread") ||
                   NavigationManager.Uri.Contains("/reporte1"))
                {
                    <style type="text/css">
                        .general .main-container {
                            align-items: flex-end;
                            flex-direction: column;
                            gap: 24px;
                            height: 736px;
                            margin-left: 1px;
                            padding: 40px 0px;
                            position: relative;
                            width: 1180px;
                        }

                        general .flex-col {
                            align-items: flex-start;
                            display: flex;
                            flex-direction: column;
                            min-height: 866px;
                            width: 1181px;
                        }

                        .general .top {
                            align-items: flex-start;
                            background: linear-gradient(180deg, rgb(3.91, 105.73, 183.6) 0%, rgb(3, 72, 141) 66.62%);
                            display: flex;
                            height: 130px;
                            overflow: hidden;
                            width: 1180px;
                        }

                        .general .overlap-group {
                            height: 301px;
                            margin-left: 56px;
                            margin-top: -203px;
                            position: relative;
                            width: 1485px;
                        }

                        .general .vector-1 {
                            height: 301px;
                            left: 311px;
                            object-fit: cover;
                            position: absolute;
                            top: 0;
                            width: 1174px;
                        }

                        .general .frame {
                            cursor: pointer;
                            height: 62px;
                            left: 0;
                            position: absolute;
                            top: 235px;
                            width: 335px;
                        }

                        .general .title {
                            align-self: stretch;
                            color: var(--neutraldark80);
                            font-weight: 600;
                            line-height: 30px;
                            margin-top: 27px;
                            position: relative;
                            text-align: center;
                        }

                        .general .table {
                            align-items: flex-start;
                            flex-direction: column;
                        }

                        .general .header {
                            align-items: flex-start;
                            background-color: transparent;
                            display: flex;
                            flex: 0 0 auto;
                            gap: 24px;
                            justify-content: flex-end;
                            position: relative;
                            width: 1155px;
                        }

                        .general .button {
                            align-items: center;
                            @* background-color: var(--amber); *@
                            border-radius: 8px;
                            box-shadow: 4px 4px 12px #02536314;
                            display: inline-flex;
                            flex: 0 0 auto;
                            gap: 8px;
                            height: 36px;
                            justify-content: center;
                            overflow: hidden;
                            padding: 10px 24px;
                            position: relative;
                        }

                        .general .button-1 {
                            color: var(--blue);
                            font-weight: 600;
                            line-height: normal;
                            margin-top: -1.50px;
                            position: relative;
                            width: fit-content;
                        }

                        .headlineheadline2-h2 {
                            font-family: var(--font-family-inter-semibold);
                            font-size: var(--font-size-xxxl);
                            font-style: normal;
                            font-weight: 600;
                            letter-spacing: 0;
                        }



                    </style>

                    <div class="">
                        @Body
                    </div>
                }

               @if (NavigationManager.Uri.Contains("/usuario") ||
               NavigationManager.Uri.Contains("/nuevo-usuario") ||
               NavigationManager.Uri.Contains("/editar-usuario") ||
               NavigationManager.Uri.Contains("/esquemas") ||
               NavigationManager.Uri.Contains("/nuevo-esquema") ||
               NavigationManager.Uri.Contains("/editar-esquema") ||
               NavigationManager.Uri.Contains("/onas") ||
               NavigationManager.Uri.Contains("/nuevo-ona") ||
               NavigationManager.Uri.Contains("/editar-ona") ||
               NavigationManager.Uri.Contains("/grupos") ||
               NavigationManager.Uri.Contains("/editar-grupos") ||
               NavigationManager.Uri.Contains("/campos-homologacion") ||
               NavigationManager.Uri.Contains("/editar-campos-homologacion") ||
               NavigationManager.Uri.Contains("/migracion-excel") ||
               NavigationManager.Uri.Contains("/nueva-migarcion-excel") ||
               NavigationManager.Uri.Contains("/conexion") ||
               NavigationManager.Uri.Contains("/nuevo-conexion") ||
               NavigationManager.Uri.Contains("/editar-conexion") ||
               NavigationManager.Uri.Contains("/log-migracion") ||
               NavigationManager.Uri.Contains("/page-nodisponible") ||
               NavigationManager.Uri.Contains("/validacion"))   
               {
                   <style type="text/css">
                        .general .main-container {
                            align-items: flex-end;
                            flex-direction: column;
                            gap: 24px;
                            height: 736px;
                            margin-left: 1px;
                            padding: 40px 0px;
                            position: relative;
                            width: 1180px;
                        }

                        general .flex-col {
                            align-items: flex-start;
                            display: flex;
                            flex-direction: column;
                            min-height: 866px;
                            width: 1181px;
                        }

                        .general .top {
                            align-items: flex-start;
                            background: linear-gradient(180deg, rgb(3.91, 105.73, 183.6) 0%, rgb(3, 72, 141) 66.62%);
                            display: flex;
                            height: 130px;
                            overflow: hidden;
                            width: 1180px;
                        }

                        .general .overlap-group {
                            height: 301px;
                            margin-left: 56px;
                            margin-top: -203px;
                            position: relative;
                            width: 1485px;
                        }

                        .general .vector-1 {
                            height: 301px;
                            left: 311px;
                            object-fit: cover;
                            position: absolute;
                            top: 0;
                            width: 1174px;
                        }

                        .general .frame {
                            cursor: pointer;
                            height: 62px;
                            left: 0;
                            position: absolute;
                            top: 235px;
                            width: 335px;
                        }

                        .general .title {
                            align-self: stretch;
                            color: var(--neutraldark80);
                            font-weight: 600;
                            line-height: 30px;
                            margin-top: 27px;
                            position: relative;
                            text-align: center;
                        }

                        .general .table {
                            align-items: flex-start;
                            flex-direction: column;
                        }

                        .general .header {
                            align-items: flex-start;
                            background-color: transparent;
                            display: flex;
                            flex: 0 0 auto;
                            gap: 24px;
                            justify-content: flex-end;
                            position: relative;
                            width: 1155px;
                        }

                        .general .button {
                            align-items: center;
                            @* background-color: var(--amber); *@
                            border-radius: 8px;
                            box-shadow: 4px 4px 12px #02536314;
                            display: inline-flex;
                            flex: 0 0 auto;
                            gap: 8px;
                            height: 36px;
                            justify-content: center;
                            overflow: hidden;
                            padding: 10px 24px;
                            position: relative;
                        }

                        .general .button-1 {
                            color: var(--blue);
                            font-weight: 600;
                            line-height: normal;
                            margin-top: -1.50px;
                            position: relative;
                            width: fit-content;
                        }

                        .headlineheadline2-h2 {
                            font-family: var(--font-family-inter-semibold);
                            font-size: var(--font-size-xxxl);
                            font-style: normal;
                            font-weight: 600;
                            letter-spacing: 0;
                        }


                        .general .table {
                            align-items: flex-start;
                            align-self: stretch;
                            display: flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            position: relative;
                            width: 100%;
                        }

                        .general .table-heading {
                            align-items: center;
                            align-self: stretch;
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--porcelain);
                            border-top-style: solid;
                            border-top-width: 1px;
                            display: flex;
                            flex: 0 0 auto;
                            padding: 12px 24px;
                            position: relative;
                            width: 100%;
                        }

                        .general .table-heading-1 {
                            width: 220px;
                        }

                        .general .header-label-1 {
                            align-items: center;
                            border-radius: 8px;
                            display: flex;
                            flex: 1;
                            flex-grow: 1;
                            gap: 8px;
                            height: 32px;
                            padding: 1px 0px;
                            position: relative;
                        }

                        .general .table-heading-2 {
                            width: 225px;
                        }

                        .general .header-label {
                            align-items: center;
                            border-radius: 8px;
                            display: flex;
                            flex: 1;
                            flex-grow: 1;
                            height: 32px;
                            justify-content: space-between;
                            padding: 1px 0px;
                            position: relative;
                        }

                        .general .table-heading-3 {
                            justify-content: space-around;
                            width: 333px;
                        }

                        .general .table-heading-4 {
                            width: 354px;
                        }

                        .general .content {
                            align-items: center;
                            align-self: stretch;
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--porcelain);
                            display: flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            gap: 32px;
                            justify-content: center;
                            padding: 0px 24px;
                            position: relative;
                            width: 100%;
                        }

                        .general .row {
                            align-items: flex-start;
                            display: flex;
                            flex-direction: column;
                            gap: 12px;
                            height: 75px;
                            margin-left: -24.00px;
                            margin-right: -24.00px;
                            position: relative;
                            width: 1180px;
                        }

                        .general .componente {
                            align-items: flex-start;
                            align-self: stretch;
                            display: flex;
                            flex: 1;
                            flex-direction: column;
                            flex-grow: 1;
                            gap: 32px;
                            justify-content: center;
                            position: relative;
                            width: 100%;
                        }

                        .general .row-1 {
                            align-self: stretch;
                            flex: 0 0 auto;
                            gap: 12px;
                            width: 100%;
                        }

                        .general .row-2 {
                            flex: 0 0 auto;
                            gap: 4px;
                            width: 1156px;
                        }

                        .general .ads-rules-list {
                            align-items: flex-start;
                            align-self: stretch;
                            background-color: var(--neutral-color00);
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--athens-gray);
                            display: flex;
                            height: 75px;
                            position: relative;
                            width: 100%;
                        }

                        .general .cell {
                            align-items: center;
                            align-self: stretch;
                            display: flex;
                            flex-direction: column;
                            gap: 4px;
                            justify-content: center;
                            padding: 12px 12px 8px 24px;
                            position: relative;
                            width: 244px;
                        }

                        .general .migration-id {
                            align-self: stretch;
                            color: var(--mako);
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page {
                            align-items: center;
                            align-self: stretch;
                            display: flex;
                            gap: 4px;
                            padding: 12px 12px 8px;
                            position: relative;
                            width: 225px;
                        }

                        .general .status {
                            color: var(--mako);
                            flex: 1;
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page-1 {
                            width: 333px;
                        }

                        .general .file-name {
                            color: var(--mako);
                            flex: 1;
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page-2 {
                            width: 354px;
                        }

                        .general .error-message {
                            color: var(--mirage);
                            flex: 1;
                            font-weight: 400;
                            line-height: 16px;
                            position: relative;
                        }

                        .general .row-3 {
                            gap: 12px;
                            height: 75px;
                            margin-left: -24.00px;
                            margin-right: -24.00px;
                            width: 1180px;
                        }


                        .general .button-container {
                            align-items: flex-start;
                            cursor: pointer;
                            display: inline-flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            gap: 16px;
                            position: relative;
                        }

                        .general .button-2 {
                            align-items: center;
                            align-self: stretch;
                            background-color: var(--amber);
                            border-radius: 8px;
                            box-shadow: 4px 4px 12px #02536314;
                            display: flex;
                            gap: 8px;
                            height: auto;
                            justify-content: center;
                            padding: 10px 32px;
                            position: relative;
                            width: 100%;
                        }

                        .general .button-3 {
                            color: var(--black-pearl);
                            font-weight: 600;
                            line-height: normal;
                            position: relative;
                            white-space: nowrap;
                            width: fit-content;
                        }

                   </style>

                    <div class="general main-container">
                        @Body
                    </div>
                }
               @*  else{
                    <style type="text/css">
                        .general .main-container {
                            align-items: flex-end;
                            display: flex;
                            flex-direction: column;
                            gap: 24px;
                            height: 736px;
                            margin-left: 1px;
                            padding: 40px 0px;
                            position: relative;
                            width: 1180px;
                        }

                        general .flex-col {
                            align-items: flex-start;
                            display: flex;
                            flex-direction: column;
                            min-height: 866px;
                            width: 1181px;
                        }

                        .general .top {
                            align-items: flex-start;
                            background: linear-gradient(180deg, rgb(3.91, 105.73, 183.6) 0%, rgb(3, 72, 141) 66.62%);
                            display: flex;
                            height: 130px;
                            overflow: hidden;
                            width: 1180px;
                        }

                        .general .overlap-group {
                            height: 301px;
                            margin-left: 56px;
                            margin-top: -203px;
                            position: relative;
                            width: 1485px;
                        }

                        .general .vector-1 {
                            height: 301px;
                            left: 311px;
                            object-fit: cover;
                            position: absolute;
                            top: 0;
                            width: 1174px;
                        }

                        .general .frame {
                            cursor: pointer;
                            height: 62px;
                            left: 0;
                            position: absolute;
                            top: 235px;
                            width: 335px;
                        }

                        .general .title {
                            align-self: stretch;
                            color: var(--neutraldark80);
                            font-weight: 600;
                            line-height: 30px;
                            margin-top: 27px;
                            position: relative;
                            text-align: center;
                        }

                        .general .table {
                            align-items: flex-start;
                            flex-direction: column;
                        }

                        .general .header {
                            align-items: flex-start;
                            background-color: transparent;
                            display: flex;
                            flex: 0 0 auto;
                            gap: 24px;
                            justify-content: flex-end;
                            position: relative;
                            width: 1155px;
                        }

                        .general .button {
                            align-items: center;

                            border-radius: 8px;
                            box-shadow: 4px 4px 12px #02536314;
                            display: inline-flex;
                            flex: 0 0 auto;
                            gap: 8px;
                            height: 36px;
                            justify-content: center;
                            overflow: hidden;
                            padding: 10px 24px;
                            position: relative;
                        }

                        .general .button-1 {
                            color: var(--blue);
                            font-weight: 600;
                            line-height: normal;
                            margin-top: -1.50px;
                            position: relative;
                            width: fit-content;
                        }

                        .headlineheadline2-h2 {
                            font-family: var(--font-family-inter-semibold);
                            font-size: var(--font-size-xxxl);
                            font-style: normal;
                            font-weight: 600;
                            letter-spacing: 0;
                        }


                        .general .table {
                            align-items: flex-start;
                            align-self: stretch;
                            display: flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            position: relative;
                            width: 100%;
                        }

                        .general .table-heading {
                            align-items: center;
                            align-self: stretch;
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--porcelain);
                            border-top-style: solid;
                            border-top-width: 1px;
                            display: flex;
                            flex: 0 0 auto;
                            padding: 12px 24px;
                            position: relative;
                            width: 100%;
                        }

                        .general .table-heading-1 {
                            width: 220px;
                        }

                        .general .header-label-1 {
                            align-items: center;
                            border-radius: 8px;
                            display: flex;
                            flex: 1;
                            flex-grow: 1;
                            gap: 8px;
                            height: 32px;
                            padding: 1px 0px;
                            position: relative;
                        }

                        .general .table-heading-2 {
                            width: 225px;
                        }

                        .general .header-label {
                            align-items: center;
                            border-radius: 8px;
                            display: flex;
                            flex: 1;
                            flex-grow: 1;
                            height: 32px;
                            justify-content: space-between;
                            padding: 1px 0px;
                            position: relative;
                        }

                        .general .table-heading-3 {
                            justify-content: space-around;
                            width: 333px;
                        }

                        .general .table-heading-4 {
                            width: 354px;
                        }

                        .general .content {
                            align-items: center;
                            align-self: stretch;
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--porcelain);
                            display: flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            gap: 32px;
                            justify-content: center;
                            padding: 0px 24px;
                            position: relative;
                            width: 100%;
                        }

                        .general .row {
                            align-items: flex-start;
                            display: flex;
                            flex-direction: column;
                            gap: 12px;
                            height: 75px;
                            margin-left: -24.00px;
                            margin-right: -24.00px;
                            position: relative;
                            width: 1180px;
                        }

                        .general .componente {
                            align-items: flex-start;
                            align-self: stretch;
                            display: flex;
                            flex: 1;
                            flex-direction: column;
                            flex-grow: 1;
                            gap: 32px;
                            justify-content: center;
                            position: relative;
                            width: 100%;
                        }

                        .general .row-1 {
                            align-self: stretch;
                            flex: 0 0 auto;
                            gap: 12px;
                            width: 100%;
                        }

                        .general .row-2 {
                            flex: 0 0 auto;
                            gap: 4px;
                            width: 1156px;
                        }

                        .general .ads-rules-list {
                            align-items: flex-start;
                            align-self: stretch;
                            background-color: var(--neutral-color00);
                            border-bottom-style: solid;
                            border-bottom-width: 1px;
                            border-color: var(--athens-gray);
                            display: flex;
                            height: 75px;
                            position: relative;
                            width: 100%;
                        }

                        .general .cell {
                            align-items: center;
                            align-self: stretch;
                            display: flex;
                            flex-direction: column;
                            gap: 4px;
                            justify-content: center;
                            padding: 12px 12px 8px 24px;
                            position: relative;
                            width: 244px;
                        }

                        .general .migration-id {
                            align-self: stretch;
                            color: var(--mako);
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page {
                            align-items: center;
                            align-self: stretch;
                            display: flex;
                            gap: 4px;
                            padding: 12px 12px 8px;
                            position: relative;
                            width: 225px;
                        }

                        .general .status {
                            color: var(--mako);
                            flex: 1;
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page-1 {
                            width: 333px;
                        }

                        .general .file-name {
                            color: var(--mako);
                            flex: 1;
                            font-weight: 400;
                            line-height: 20px;
                            position: relative;
                        }

                        .general .landing-page-2 {
                            width: 354px;
                        }

                        .general .error-message {
                            color: var(--mirage);
                            flex: 1;
                            font-weight: 400;
                            line-height: 16px;
                            position: relative;
                        }

                        .general .row-3 {
                            gap: 12px;
                            height: 75px;
                            margin-left: -24.00px;
                            margin-right: -24.00px;
                            width: 1180px;
                        }


                        .general .button-container {
                            align-items: flex-start;
                            cursor: pointer;
                            display: inline-flex;
                            flex: 0 0 auto;
                            flex-direction: column;
                            gap: 16px;
                            position: relative;
                        }

                        .general .button-2 {
                            align-items: center;
                            align-self: stretch;
                            background-color: var(--amber);
                            border-radius: 8px;
                            box-shadow: 4px 4px 12px #02536314;
                            display: flex;
                            gap: 8px;
                            height: auto;
                            justify-content: center;
                            padding: 10px 32px;
                            position: relative;
                            width: 100%;
                        }

                        .general .button-3 {
                            color: var(--black-pearl);
                            font-weight: 600;
                            line-height: normal;
                            position: relative;
                            white-space: nowrap;
                            width: fit-content;
                        }

                    </style>
                     <div class="general main-container">
                         @Body
                    </div>
                } *@
            </div>

        }
    </div>

</div>

@code {
    private bool IsSidebarVisible { get; set; } = true;
    private bool IsSubMenuVisible { get; set; } = false;

    private string SidebarClass => IsSidebarVisible ? "" : "hidden";
    private string SidebarToggleText => IsSidebarVisible ? "Ocultar Menú" : "Mostrar Menú";

    private string SubMenuClass => IsSubMenuVisible ? "show" : "";

    // Obtención de datos desde LocalStorage
    private int rol;
    private string nombreRol;
    private string nombre;
    private string apellidos;
    private string codigoRol;

    protected override async Task OnInitializedAsync()
    {
        codigoRol = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Codigo_Rol_Local);

        if (codigoRol == "KEY_USER_CAN")
        {
            nombreRol = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Nombre_Rol_Local);
        }
        else if (codigoRol == "KEY_USER_ONA")
        {
            nombreRol = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Nombre_Rol_Local);
        }
        else if (codigoRol == "KEY_USER_READ")
        {
            nombreRol = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Nombre_Rol_Local);
        }
        else
        {
            nombreRol = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Nombre_Rol_Local);
        }

        nombre = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Nombre_Local);
        apellidos = await LocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Apellido_Local);

        // if (navItems is null || navItems.Count == 0)
        navItems = await GetNavItemsAsync();

        await Task.Delay(2000);
    }

    private void ToggleSidebar()
    {
        IsSidebarVisible = !IsSidebarVisible;
    }

    private void ToggleSubMenu()
    {
        IsSubMenuVisible = !IsSubMenuVisible;
    }
}

@code {
    Sidebar2 sidebar;
    private IEnumerable<NavItem>? navItems = new List<NavItem>();

    [Inject]
    private ICatalogosService? _Icatalogo { get; set; }

    [Inject]
    ILocalStorageService iLocalStorageService { get; set; }

    private string TituloMenu;
    private string ClasePage;

    [Parameter] public EventCallback<List<NavItem>> OnNavItemsChanged { get; set; } // 🔹 Nuevo parámetro

    private async Task<Sidebar2DataProviderResult> Sidebar2DataProvider(Sidebar2DataProviderRequest request)
    {
        if (navItems is null)
            navItems = await GetNavItemsAsync();

        await Task.Delay(2000);
        return await Task.FromResult(request.ApplyTo(navItems));
    }
    public class CustomNavItem
    {
        public NavItem NavItem { get; set; }
        public string CodigoHomologacion { get; set; }

        public CustomNavItem(NavItem navItem, string codigoHomologacion)
        {
            NavItem = navItem;
            CodigoHomologacion = codigoHomologacion;
        }
    }

    private async Task<IEnumerable<NavItem>> GetNavItemsAsync()
    {
        var menuItems = await _Icatalogo.GetMenusAsync();
        TituloMenu = await iLocalStorageService.GetItemAsync<string>(Inicializar.Datos_Menu_Titulo_Local);
        var rol = await iLocalStorageService.GetItemAsync<string>(Inicializar.Datos_Usuario_Codigo_Rol_Local);

        // Excluir ciertos menús según el rol
        var excludedHrefs = rol switch
        {
            "KEY_USER" => new[] { "KEY_MENU_REP_CAN", "KEY_MENU_REP_ONA", "KEY_MENU_REP_READ", "KEY_MENU_ONA", "KEY_MENU_CON", "KEY_MENU_USU", "KEY_MENU_GRU", "KEY_MENU_CAM", "KEY_MENU_ESQ", "KEY_MENU_VAL", "KEY_MENU_MIG_EXCEL", "KEY_MENU_MIG_LOG" },
            "KEY_USER_CAN" => new[] { "KEY_MENU_REP_ONA", "KEY_MENU_REP_READ" },
            "KEY_USER_ONA" => new[] { "KEY_MENU_REP_CAN", "KEY_MENU_REP_READ", "KEY_MENU_ONA", "KEY_MENU_USU", "KEY_MENU_GRU", "KEY_MENU_CAM", "KEY_MENU_ESQ" },
            "KEY_USER_READ" => new[] { "KEY_MENU_REP_CAN", "KEY_MENU_REP_ONA" },
            _ => Array.Empty<string>()
        };

        var filteredMenuItems = menuItems.Where(menu => !excludedHrefs.Contains(menu.CodigoHomologacion));

        // Convertir en NavItem
        var navItemsList = filteredMenuItems.Select(menu =>
        {
            BlazorBootstrap.IconName iconName = menu.CodigoHomologacion switch
            {
                "KEY_MENU_ONA" => BlazorBootstrap.IconName.PersonFill,
                "KEY_MENU_CON" => BlazorBootstrap.IconName.Link,
                "KEY_MENU_USU" => BlazorBootstrap.IconName.PeopleFill,
                "KEY_MENU_GRU" => BlazorBootstrap.IconName.Diagram2Fill,
                "KEY_MENU_CAM" => BlazorBootstrap.IconName.Columns,
                "KEY_MENU_ESQ" => BlazorBootstrap.IconName.Diagram3Fill,
                "KEY_MENU_VAL" => BlazorBootstrap.IconName.CheckCircleFill,
                "KEY_MENU_SEP" => BlazorBootstrap.IconName.Dash,
                _ => BlazorBootstrap.IconName.QuestionCircleFill
            };

            return new NavItem
                {
                    Id = menu.IdHomologacionMenu.ToString(),
                    Text = menu.MostrarWeb,
                    Href = menu.href,
                    IconName = iconName
                };
        }).ToList(); 

        await OnNavItemsChanged.InvokeAsync(navItemsList); // 🔹 Enviar valores a AdminLayout.razor

        return navItemsList;
    }
}

