@using BlazorBootstrap;

<Sidebar2
    @ref="sidebar"
    Title="Buscador OEC"
    BadgeText="v2.1.0"
    DataProvider="Sidebar2DataProvider"
/>

@code {
    Sidebar2 sidebar;
    IEnumerable<NavItem>? navItems;
    private async Task<Sidebar2DataProviderResult> Sidebar2DataProvider(Sidebar2DataProviderRequest request)
    {
        if (navItems is null)
            navItems = GetNavItems();

        await Task.Delay(2000);
        return await Task.FromResult(request.ApplyTo(navItems));
    }
    private IEnumerable<NavItem> GetNavItems()
    {
        navItems = new List<NavItem>
        {
            new NavItem { Id = "1", IconName = IconName.HouseDoorFill, Text = "Homologación"},
            new NavItem { Id = "2", Href = "/grupos", IconName = IconName.LayoutSidebarInset, Text = "Grupos", ParentId="1" },
            new NavItem { Id = "3", Href = "/campos-homologacion", IconName = IconName.LayoutSidebarInset, Text = "Campos", ParentId="1" },
            new NavItem { Id = "4", Href = "/esquemas", IconName = IconName.LayoutSidebarInset, Text = "Esquema", ParentId="1" },
            new NavItem { Id = "5", Href = "/validacion", IconName = IconName.LayoutSidebarInset, Text = "Validación", ParentId="1" },
            new NavItem { Id = "6", Href = "/conexion", IconName = IconName.LayoutSidebarInset, Text = "Conecciones", ParentId="1" },

            new NavItem { Id = "7", IconName = IconName.HouseDoorFill, Text = "Perfiles"},
            new NavItem { Id = "8", Href = "/usuarios", IconName = IconName.LayoutSidebarInset, Text = "Usuarios", ParentId="7" },
            @* new NavItem { Id = "7", Href = "/rutas", IconName = IconName.LayoutSidebarInset, Text = "Rutas", ParentId="5" }, *@
            @* new NavItem { Id = "8", Href = "/permisos", IconName = IconName.LayoutSidebarInset, Text = "Permisos", ParentId="5" }, *@
        };

        return navItems;
    }
}